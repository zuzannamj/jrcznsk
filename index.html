<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>jrcznsk.com</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: black;
      font-family: sans-serif;
    }

    .bg {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-size: cover;
      background-position: center;
      will-change: opacity, transform;
      transition: opacity 1s ease-in-out;
      z-index: 0;
      opacity: 0;
    }

    .contact {
      position: absolute;
      bottom: 2vh;
      right: 2vw;
      color: white;
      font-size: 3vw;
      font-weight: bold;
      z-index: 10;
      text-shadow: 2px 2px 5px black;
    }

    @media (max-width: 768px) {
      .contact {
        left: 0;
        right: 0;
        bottom: 1vh;
        text-align: center;
        font-size: 5vw;
      }
    }
  </style>
</head>
<body>
  <div class="bg" id="bg1"></div>
  <div class="bg" id="bg2"></div>
  <div class="contact">Contact: zu@jrcznsk.com</div>

  <script>
    const filenames = [
      "IMG_0227.jpeg",
      "IMG_0232.jpeg",
      "IMG_0242.jpeg",
      "IMG_0244.jpeg",
      "IMG_0256.jpeg",
      "IMG_0259.jpeg",
      "IMG_0264.jpeg",
      "IMG_0266.jpeg",
      "IMG_0267.jpeg",
      "IMG_0274.jpeg",
      "IMG_0275.jpeg",
      "IMG_6540.jpeg",
      "IMG_6552.jpeg",
      "IMG_6555.jpeg",
      "IMG_6560.jpeg"
    ];

    let index = 0;
    let current = 1;
    const [bg1, bg2] = [document.getElementById("bg1"), document.getElementById("bg2")];

    function setBackground(div, filename, callback) {
      const img = new Image();
      img.src = filename;

      img.onload = () => {
        div.style.backgroundImage = `url(${filename})`;
        div.style.transition = "none";
        div.style.opacity = 0;

        // Artistic motion
        const zoomStart = 1.4;
        const zoomEnd = Math.random() > 0.5 ? 1.7 : 1.2; // random zoom in or out
        const panX = (Math.random() - 0.5) * 60; // pan left/right
        const panY = (Math.random() - 0.5) * 60; // pan up/down

        div.style.transform = `scale(${zoomStart}) translate(${panX}px, ${panY}px)`;

        // Next frame
        requestAnimationFrame(() => {
          div.style.transition = "opacity 1s ease-in-out, transform 10s ease-in-out";
          div.style.opacity = 1;
          div.style.transform = `scale(${zoomEnd}) translate(${panX}px, ${panY}px)`;

          callback && callback(); // only proceed after load + frame
        });
      };
    }

    function transitionNext() {
      index = (index + 1) % filenames.length;
      const filename = filenames[index];

      const active = current === 1 ? bg1 : bg2;
      const next = current === 1 ? bg2 : bg1;

      setBackground(next, filename, () => {
        active.style.opacity = 0;
        current = current === 1 ? 2 : 1;

        // Wait before next transition
        setTimeout(transitionNext, 7000);
      });
    }

    // Initial image
    setBackground(bg1, filenames[0], () => {
      bg1.style.opacity = 1;
      setTimeout(transitionNext, 7000);
    });
  </script>
</body>
</html>
